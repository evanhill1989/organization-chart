import{w,v as g,a as d,p as e,t as f}from"./chunk-PVWAREVJ-C9qE2fA-.js";import{u as h}from"./AuthContext-CtIaUxkA.js";import"./supabaseClient-Btf0BZYh.js";const N=w(function(){const i=g(),{updatePassword:u}=h(),[r,m]=d.useState(""),[n,p]=d.useState(""),[a,t]=d.useState(!1),[l,o]=d.useState(null),x=async s=>{if(s.preventDefault(),t(!0),o(null),r!==n){o("Passwords do not match"),t(!1);return}if(r.length<6){o("Password must be at least 6 characters"),t(!1);return}const{error:c}=await u(r);c?(o(c.message),t(!1)):i("/org-chart")};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Set new password"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:"Enter your new password below"})]}),l&&e.jsx("div",{className:"rounded-md bg-red-50 dark:bg-red-900/20 p-4",children:e.jsx("div",{className:"flex",children:e.jsx("div",{className:"ml-3",children:e.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-300",children:l})})})}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"new-password",className:"sr-only",children:"New Password"}),e.jsx("input",{id:"new-password",name:"new-password",type:"password",autoComplete:"new-password",required:!0,value:r,onChange:s=>m(s.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-gray-100 dark:bg-gray-800 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"New password (min. 6 characters)",disabled:a})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirm-password",className:"sr-only",children:"Confirm Password"}),e.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,value:n,onChange:s=>p(s.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-gray-100 dark:bg-gray-800 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Confirm new password",disabled:a})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:a,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Updating password...":"Update password"})})]}),e.jsx("div",{className:"text-center",children:e.jsx(f,{to:"/login",className:"text-sm font-medium text-blue-600 hover:text-blue-500",children:"‚Üê Back to sign in"})})]})})});export{N as default};

import{w as l,p as e,t as a}from"./chunk-PVWAREVJ-BCzKU303.js";import{u as d}from"./supabaseClient-D0Nl3FeP.js";import{Q as o,a as x}from"./QueryClientProvider-CDBXVrxO.js";import{f as c}from"./journal-Cr7Ex8Uo.js";const m=new o;function g(){const{data:r,isLoading:n,error:s}=d({queryKey:["journalEntries"],queryFn:c}),i=t=>new Date(t).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return e.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:[e.jsx("nav",{className:"bg-gray-900 dark:bg-gray-800 px-4 py-3",children:e.jsx(a,{to:"/",className:"text-gray-300 hover:text-white transition-colors",children:"← Home"})}),e.jsxs("main",{className:"p-8 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Journal"}),e.jsx(a,{to:"/journal/new",className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"New Entry"})]}),n&&e.jsx("div",{className:"text-center py-8",children:e.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:"Loading entries..."})}),s&&e.jsx("div",{className:"text-center py-8",children:e.jsxs("div",{className:"text-red-600 dark:text-red-400",children:["Error loading journal entries: ",s.message]})}),r&&r.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No journal entries yet"}),e.jsx(a,{to:"/journal/new",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Create your first entry"})]}),r&&r.length>0&&e.jsx("div",{className:"space-y-4",children:r.map(t=>e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-6 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:i(t.entry_date)}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(t.created_at).toLocaleDateString()})]}),t.editorial_text&&e.jsxs("div",{className:"text-gray-700 dark:text-gray-300 mb-4 line-clamp-3",children:[t.editorial_text.substring(0,200),t.editorial_text.length>200&&"..."]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Entry #",t.id]}),e.jsx(a,{to:`/journal/entry/${t.id}`,className:"text-blue-600 dark:text-blue-400 hover:underline font-medium",children:"Read more →"})]})]},t.id))})]})]})}const b=l(function(){return e.jsx(x,{client:m,children:e.jsx(g,{})})});export{b as default};
